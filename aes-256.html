<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AES-256 ≈ûifreleme | ToolGate</title>
    <link rel="icon" type="image/png" href="https://i.imgur.com/mVJuMCw.png">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="gradient-text">AES-256 ≈ûifreleme</h1>
        </header>

        <!-- Mod Se√ßici -->
        <div class="mode-switch" id="modeSwitch">
            <div class="mode-option active" data-mode="encrypt">≈ûifrele</div>
            <div class="mode-option" data-mode="decrypt">√á√∂z</div>
            <div class="slider-track" id="slider"></div>
        </div>

        <!-- ƒ∞√ßerik -->
        <div class="content">
            <input 
                type="password" 
                id="encryptionKey" 
                class="input-field" 
                placeholder="üîë ≈ûifreleme Anahtarƒ±"
            >

            <div class="input-group">
                <textarea 
                    id="inputText" 
                    class="input-field textarea" 
                    placeholder="‚úçÔ∏è Metin girin..."
                ></textarea>
                <div class="char-count" id="charCount">0</div>
            </div>

            <div class="output-field" id="outputText"></div>
        </div>
    </div>

    <!-- JavaScript Kodlarƒ± -->
    <script>
        // DOM Elementleri
        const modeOptions = document.querySelectorAll('.mode-option');
        const slider = document.getElementById('slider');
        const inputField = document.getElementById('inputText');
        const keyField = document.getElementById('encryptionKey');
        const outputField = document.getElementById('outputText');
        const charCount = document.getElementById('charCount');
        let currentMode = 'encrypt';

        // Slider Pozisyonu
        function updateSlider(activeOption) {
            slider.style.width = `${activeOption.offsetWidth - 10}px`;
            slider.style.transform = `translateX(${activeOption.offsetLeft - 5}px)`;
        }

        // Mod Deƒüi≈ütirme
        modeOptions.forEach(option => {
            option.addEventListener('click', () => {
                modeOptions.forEach(o => o.classList.remove('active'));
                option.classList.add('active');
                currentMode = option.dataset.mode;
                updateSlider(option);
                processText();
            });
        });

        // Anlƒ±k ƒ∞≈ülem
        [inputField, keyField].forEach(field => {
            field.addEventListener('input', () => {
                processText();
                charCount.textContent = inputField.value.length;
            });
        });

        // ≈ûifreleme/√á√∂zme
        function processText() {
            const key = keyField.value;
            const text = inputField.value;

            if (!key || !text) {
                outputField.textContent = '';
                return;
            }

            try {
                if (currentMode === 'encrypt') {
                    const encrypted = CryptoJS.AES.encrypt(text, key).toString();
                    outputField.textContent = encrypted;
                    outputField.style.color = '#00ff88';
                } else {
                    const bytes = CryptoJS.AES.decrypt(text, key);
                    const decrypted = bytes.toString(CryptoJS.enc.Utf8);
                    outputField.textContent = decrypted || "‚ùå Ge√ßersiz anahtar!";
                    outputField.style.color = decrypted ? '#00ff88' : '#ff5555';
                }
            } catch (error) {
                outputField.textContent = "‚ùå Sistem hatasƒ±!";
                outputField.style.color = '#ff5555';
            }
        }

        // ƒ∞lk Slider Ayarƒ±
        updateSlider(document.querySelector('.active'));
    </script>
</body>
</html>
